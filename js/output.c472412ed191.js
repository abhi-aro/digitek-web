(function(){$(document).ready(function(){var $csrf_token,doAPI,doForm,doOTPResend,headers,send_analytics,showMobileSignupModal;$csrf_token=$('[name="csrfmiddlewaretoken"]').attr('value');headers={'X-CSRFToken':$csrf_token};send_analytics=function(){if(DO_ANALYTICS){return gtag('event','Signup',{'event_category':'Landing Page','event_label':'Success'});}};$('input[name^=\'rating_\']').on('click',function(e){var $com_name,$elt,frequency,name,value;$elt=$(this);frequency=$elt.attr('min_fr');value=$elt.val();name=$elt.attr('name').replace('rating_','');$com_name=$('#comment_'+name);if(value<=frequency){if($com_name.css('display','none')){$com_name.css('display','block');return $com_name.attr('required','');}}else{$com_name.css('display','none');return $com_name.removeAttr('required','');}});if($('.phone_no').length){$('.phone_no').intlTelInput({initialCountry:'IN',separateDialCode:true,placeholderNumberType:'MOBILE',autoPlaceholder:'polite',allowDropdown:true});}
if($.validator){$.validator.addMethod('gstnumber',(function(value){return/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(value);}),'Invalid GST Number. e.g., 23AAAAA0000A1Z9');$.validator.addMethod('website',(function(value){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(value);}),'Invalid format. e.g. www.abc.xyz');$.validator.addMethod('linkedin-url',(function(value){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(value);}),'Linkedin profile is compulsory. Please add here.');$('.needs-validation, needs-validation1').validate();}
$('.profile_login_btn').on('click',function(e){window.location.href="/?login&next="+window.location.pathname+"&tab="+$(this).data('id');e.preventDefault();return e.stopPropagation();});$('.needs-validation, needs-validation1').on('submit',function(e){if($(this).valid()){true;}
e.preventDefault();return e.stopPropagation();});$('input[name="user_type"]').on('click',function(e){if($(this).val()==='vendor'){$('.vendor-qs').show();return $('.referral').show();}else{$('.vendor-qs').hide();return $('.referral').hide();}});$('[name="refer"]').on('change',function(e){if($(this).is(":checked")){return $('.referral_code').show();}else{return $('.referral_code').hide();}});$('[name="partner_refer"]').on('change',function(e){if($(this).is(":checked")){return $('.partner_referral_code').show();}else{return $('.partner_referral_code').hide();}});$('#source').on('change',function(e){if($(this).val()==='543'&&$('#user_type').val()==='client'){return $('.referer_details').css('display','block');}else{return $('.referer_details').css('display','none');}});$('#show-hidePassword').on('click',function(e){var password_elt,type;password_elt=$('#password');type=password_elt.attr('type')==='password'?'text':'password';password_elt.attr('type',type);return this.classList.toggle('fa-eye-slash');});$('.modal').on('show.bs.modal',function(){return $('.modal').not($(this)).each(function(){return $(this).modal('hide');});});$('[data-target="#registrationModal"]').on('click',function(e){return $('#user_type').attr('value',$(this).data('user_type')||'client');});$('#linkedin_signup').on('click',function(e){send_analytics();return window.location.href=$(this).data('href')+`?user_type=${$('#user_type').attr('value')}&http_ref=${document.referrer}&${window.location.search.substr(1)}`;});$('#linkedin_usertype a').on('click',function(e){if(DO_ANALYTICS){gtag('event','Signup',{'event_category':'Landing Page','event_label':'Success'});}
return window.location.href=window.location.search+'&user_type='+$(this).data('id');});$('#edit_email_form').on('click',function(e){$('#registerModalForm input').prop('disabled',false);$('#send_email_otp').prop('disabled',false);$("#resend_email_otp").prop('disabled',false);$('#email_otp').attr('value','');$("#submit-btn").prop('disabled',false);$("#submit_email_otp").prop('disabled',false);if($('#submit-btn').css('display','none')){$('#submit-btn').css('display','block');}
if($('#emailotpModalForm').css('display','block')){$('#emailotpModalForm').css('display','none');}
$('#email-otp-error-msg').hide();e.preventDefault();return e.stopPropagation();});doAPI=function($elt,url,preFn,complete200Fn,complete300Fn,errFn=null,postFn=null,{type,data,data_suffix,fileField}={}){var pre_data;if(type==null){type='POST';}
if(data_suffix==null){data_suffix=false;}
if(fileField){data=new FormData($elt[0]);}else{if(data==null){data=$elt.serialize();}}
pre_data=preFn(data);if(typeof pre_data==='string'){data=pre_data;}else if(pre_data===false){return pre_data;}
if(fileField){$.ajax({type:type,url:url,dataType:'JSON',processData:false,contentType:false,mimeType:'multipart/form-data',data:data,headers:headers,complete:function(res){if(res.status===200){complete200Fn(res);}
if(res.status>=300){return complete300Fn(res);}},error:function(res){if(errFn){return errFn(res);}}});}else{$.ajax({type:type,url:url,data:data+(data_suffix?'&'+document.location.search.substr(1):''),headers:headers,complete:function(res){if(res.status===200){complete200Fn(res);}
if(res.status>=300){return complete300Fn(res);}},error:function(res){if(errFn){return errFn(res);}}});}
if(postFn){return postFn();}};doForm=function($elt,url,preFn,complete200Fn,complete300Fn,errFn,postFn=null,opts={}){if($elt.valid()){return doAPI($elt,url,preFn,complete200Fn,complete300Fn,errFn,postFn,opts);}else{return false;}};$('#loginModalForm').on('submit',function(e){return doForm($(this),'/api/login/',function(form_data){form_data=form_data+'&'+document.location.search.substr(1).split('&')[1];return form_data;},function(){var params;params=new URLSearchParams(window.location.search);if(params.get('next')){if(params.get('tab')){return window.location.href=params.get('next')+"?tab="+params.get('tab');}else{return window.location.href=params.get('next');}}else{window.location.href='/auth/redirect/';return window.location.replace('/');}},function(res){var data;data=$.parseJSON(res.responseText);if(data.msg){$('#email-password-error').html(data.msg);}
return $('#email-password-error').show();},function(){},function(){e.preventDefault();return e.stopPropagation();},function(){return{data_suffix:true};});});$('#registerModalForm').on('submit',function(e){return doForm($(this),'/api/emailsignup/',function(){var user_type;e.preventDefault();user_type=$('#user_type').val();return $('#submit-btn').prop('disabled',true);},function(res){if(res.responseJSON.login){window.location.href='/auth/redirect/';return window.location.replace('/');}else{send_analytics();$('#registerModalForm input').prop('disabled',true);$('#resend_email_otp').attr('value',$('#email').val());$('#email_otp').attr('value',res.responseJSON.email_otp);$('#sent_emailotp_msg').html(res.responseJSON.msg);$('#emailotpModalForm').css('display','block');$('#submit-btn').css('display','none');if($('#signup_error_msg').css('display','block')){return $('#signup_error_msg').css('display','none');}}},function(res){if(res.responseJSON.error){if($('#signup_error_msg').css('display','none')){$('#signup_error_msg').css('display','block');return $('#signup_error_msg').html(res.responseJSON.msg);}}else{$('#existingusermsg').html(res.responseJSON.msg);$('#loginModal').modal('show');return $('#login_email').attr('value',$('#email').val());}},function(res){$('#registerModalForm input').prop('disabled',false);return $('#submit-btn').prop('disabled',false);},function(){return e.stopPropagation();});});$('#apply-now-button').on('click',function(e){return $('#job_title').attr('value',$(this).data('id'));});$('#jobApplicationModalForm').on('submit',function(e){var $phone_no,countryData;$phone_no=$(this).find('.phone_no');countryData=$phone_no.intlTelInput('getSelectedCountryData');return doForm($(this),'/api/jobapplication/',function(form_data){e.preventDefault();$phone_no.parent().find('label').remove();if(!$phone_no.intlTelInput('isValidNumber')){$phone_no.parent().append('<label style="font-size:10px; color:red; ">Please provide a valid number.</label>');return false;}
$('#submit_btn_jobApplication').prop('disabled',true);form_data.append('code',countryData.dialCode);return Array.from(form_data);},function(res){$('#jobApplicationModalForm')[0].reset();$('#jobApplicationModal').modal('hide');$('#jobapplication_error_msg').html('');$('#scheduleDemoMessage').modal('show');$('#demomessage').html(res.responseJSON.msg);return $('#submit_btn_jobApplication').prop('disabled',false);},function(res){return $('#jobapplication_error_msg').html(res.responseJSON.msg);},function(){return $('#submit_btn_jobApplication').prop('disabled',false);},function(){return e.stopPropagation();},{fileField:true});});$('#advocacyModalForm').on('submit',function(e){var $phone_no,countryData;$phone_no=$(this).find('.phone_no');countryData=$phone_no.intlTelInput('getSelectedCountryData');return doForm($(this),'/api/advocacy/',function(form_data){e.preventDefault();$phone_no.parent().find('label').remove();if(!$phone_no.intlTelInput('isValidNumber')){$phone_no.parent().append('<label style="font-size:10px; color:red; ">Please provide a valid number.</label>');return false;}
$('#submit_btn_advocacy').prop('disabled',true);form_data=form_data+'&code='+countryData.dialCode;return form_data;},function(res){$('#advocacyModal').modal('hide');$('#advo-otpModal').modal('show');$('#otptext').html(res.responseJSON.msg);$('#advo-mobiletext').html('Mobile OTP: '+res.responseJSON.mobile_otp);$('#advo-emailtext').html('Email OTP: '+res.responseJSON.email_otp);$('#advo-resend_mobile_otp').attr('value',countryData.dialCode+$('#advocacyModalForm').find('input[name=phone_no]').val());$('#advo-resend_email_otp').attr('value',$('#advocacyModalForm').find('input[name=email]').val());return $('#existingemailmsg').html('');},function(res){return $('#existingemailmsg').html(res.responseJSON.msg);},function(){return $('#submit_btn_advocacy').prop('disabled',false);},function(){return e.stopPropagation();});});$('#advo-emailotpModalForm').on('submit',function(e){return doForm($(this),'/api/verify/otp/?type=email',function(){return $("#advo-submit_email_otp").prop('disabled',true);},function(){$("#advo-submit_email_otp").css("background-color","Green");$("#advo-submit_email_otp").html('Verified');$("#advo-submit_email_otp").prop('disabled',true);$("#advo-resend_email_otp").prop('disabled',true);$("#advo-email_otp").prop('disabled',true);$('#otp-error-msg').hide();if($("#advo-submit_email_otp").prop('disabled')&&$("#advo-submit_mobile_otp").prop('disabled')){return $("#submit-details").prop('disabled',false);}},function(res){$('#otp-error-msg').show();return $('#otp-error-msg').html(res.responseJSON.msg);},function(){return $("#advo-submit_email_otp").prop('disabled',false);});});$('#emailotpModalForm').on('submit',function(e){return doForm($(this),'/api/verify/otp/?type=email',function(){return $("#submit_email_otp").prop('disabled',true);},function(){$('#edit_email_form').click();return showMobileSignupModal();},function(res){$('#email-otp-error-msg').show('fast');return $('#email-otp-error-msg').html(res.responseJSON.msg);},function(){return $("#submit_email_otp").prop('disabled',false);});});$('#advo-mobileotpModalForm').on('submit',function(e){return doForm($(this),'/api/verify/otp/?type=mobile',function(){return $("#advo-submit_mobile_otp").prop('disabled',true);},function(){$("#advo-submit_mobile_otp").css("background-color","Green");$("#advo-submit_mobile_otp").html('Verified');$("#advo-submit_mobile_otp").prop('disabled',true);$("#advo-resend_mobile_otp").prop('disabled',true);$("#advo-mobile_otp").prop('disabled',true);$('#otp-error-msg').hide();if($("#advo-submit_mobile_otp").prop('disabled')&&$("#advo-submit_email_otp").prop('disabled')){return $("#submit-details").prop('disabled',false);}},function(res){$('#otp-error-msg').show();return $('#otp-error-msg').html(res.responseJSON.msg);},function(){return $("#advo-submit_mobile_otp").prop('disabled',false);});});$('#mobileotpModalForm').on('submit',function(e){return doForm($(this),'/api/verify/otp/?type=mobile',function(){return $("#submit_mobile_otp").prop('disabled',true);},function(res){if(res.responseJSON.url){return window.location.href=res.responseJSON.url;}else{window.location.href='/auth/redirect/';return window.location.replace('/');}},function(res){$('#mobile_otp_error_msg').show('fast');return $('#mobile_otp_error_msg').html(res.responseJSON.msg);},function(){return $("#submit_mobile_otp").prop('disabled',false);});});$('#contactForm, #webinar_form, #scheduleDemoModalForm, #subscribeModalForm, #contactAgencyModalForm').on('submit',function(e){var $phone_no;$phone_no=$(this).find('.phone_no');return doForm($(this),'/api/contact/leads/',function(){$phone_no.parent().find('label').remove();if(!$phone_no.intlTelInput('isValidNumber')){$phone_no.parent().append('<label style="font-size:10px; color: red; ">Please provide a valid number.</label>');return false;}
return $("#submit-demo").prop('disabled',true);},function(res){if(res.responseJSON.demo){$('#scheduleDemoModalForm')[0].reset();$('#scheduleDemoModal').modal('hide');$('#scheduleDemoMessage').modal('show');return $('#demomessage').html(res.responseJSON.msg);}else if(res.responseJSON.subscriber){$('#subscribeModalForm')[0].reset();$('#subscribeModal').modal('hide');$('#scheduleDemoMessage').modal('show');return $('#demomessage').html(res.responseJSON.msg);}else if(res.responseJSON.contact_agency){$('#contactAgencyModalForm')[0].reset();$('#contactAgencyModal').modal('hide');$('#scheduleDemoMessage').modal('show');return $('#demomessage').html(res.responseJSON.msg);}else{$('#alert_msg').html(res.responseJSON.msg);$('#alert_msg').css('color','green');if($('#contactForm')[0]){return $('#contactForm')[0].reset();}else if($('#webinar_form')[0]){return $('#webinar_form')[0].reset();}}},function(res){var msg_id;if(res.responseJSON.error){msg_id=$('#'+res.responseJSON.error+'_msg');msg_id.css('color','red');}
if(res.responseJSON.msg){return msg_id.html(res.responseJSON.msg);}else{return msg_id.html('Make sure all details are correct');}},function(res){return $("#submit-demo").prop('disabled',false);},function(){e.preventDefault();return e.stopPropagation();});});showMobileSignupModal=function(disabled=false){var other_type,user_type;user_type=$('#user_type').val();other_type=user_type==='client'?'vendor':'client';$("#mobileSignupModalForm").find("input, select").prop('disabled',disabled);$(`#${user_type}_detail`).css('display','block');$(`#${other_type}_detail`).css('display','none').find("input").prop('disabled',true);$(`input[name=user_type][value='${user_type}']`).click();$('#send_mobile_otp').prop('disabled',false);$('#mobileotpModalForm').css('display','none');$('#send_mobile_otp').css('display','block');$('#mobile_otp').attr('value','');$('input[name="website"]').attr('value','');$('#logo_url').attr('value','');$('#referee_details').attr('disabled',false);$('#mobile_otp_error_msg').hide();return $('#mobileSignupModal').modal('show');};$('#mobileSignupModalForm').on('submit',function(e){var $phone_no,countryData;$phone_no=$(this).find('#phone_no');countryData=$phone_no.intlTelInput('getSelectedCountryData');return doForm($(this),'/api/mobilesignup/',function(form_data){var params;e.preventDefault();$phone_no.parent().find('label').remove();if(!$phone_no.intlTelInput('isValidNumber')){$phone_no.parent().append('<label style="font-size:10px; color: red; ">Please provide a valid number.</label>');return false;}
$('#send_mobile_otp').prop('disabled',true);params=new URLSearchParams(window.location.search);form_data=form_data+'&code='+countryData.dialCode;if(params.has('partial_token')){form_data=form_data+'&partial_token='+params.get('partial_token');}
return form_data;},function(res){showMobileSignupModal(true);$('#resend_mobile_otp').attr('value',countryData.dialCode+$phone_no.val());$('#sent_mobileotp_msg').html(res.responseJSON.msg);$('#mobile_otp').attr('value',res.responseJSON.mobile_otp);$('#mobile_signup_error_msg').html('');if($('#mobileotpModalForm').css('display','none')){$('#mobileotpModalForm').css('display','block');$('#send_mobile_otp').css('display','none');}
return $('#referee_details').attr('disabled',true);},function(res){if(res.responseJSON.error){return $('#mobile_signup_error_msg').html(res.responseJSON.msg);}else if(res.responseJSON.modal){$('#scheduleDemoMessage').modal('show');return $('#demomessage').html(res.responseJSON.msg);}},function(res){showMobileSignupModal();return $('#send_mobile_otp').prop('disabled',false);},function(){return e.stopPropagation();});});$('#advo-edit_details').on('click',function(e){$('#advocacyModal').modal('show');$('#advo-otpModal').modal('hide');$('#submit_btn_advocacy').prop('disabled',false);e.preventDefault();return e.stopPropagation();});$('#edit_mobile_form').on('click',function(e){showMobileSignupModal();e.preventDefault();return e.stopPropagation();});$('#submit-details').on('click',function(e){return doAPI($(this),'/api/advocacy/',function(){return $("#submit-details").prop('disabled',true);},function(res){$('#advocacyModalForm')[0].reset();$('#advo-otpModal').modal('hide');$('#scheduleDemoMessage').modal('show');return $('#demomessage').html(res.responseJSON.msg);},function(res){$('#otp-error-msg').show();return $('#otp-error-msg').html(res.responseJSON.msg);},function(){return $("#submit-details").prop('disabled',false);});});doOTPResend=function($elt,url,e){return doAPI($elt,url+$elt.attr("value"),function(){return $elt.prop('disabled',true);},function(){return setTimeout((function(){return $elt.prop('disabled',false);}),60000);},function(){return $elt.prop('disabled',false);},function(){},function(){e.preventDefault();return e.stopPropagation();},{type:'GET'});};$('#resend_mobile_otp, #advo-resend_mobile_otp').on('click',function(e){return doOTPResend($(this),'/api/request/otp/?phone_no=',e);});$('#resend_email_otp, #advo-resend_email_otp').on('click',function(e){return doOTPResend($(this),'/api/request/otp/?email=',e);});$('#forgotPasswordForm').on('submit',function(e){return doForm($(this),'/api/forgot/password/',function(){return e.preventDefault();},function(res){$('#forgotpasswordModal').modal('hide');$('#forgotpasswordmessage').modal('show');return $('#passowrdresetmsg').html(res.responseJSON.msg);},function(res){$('#forgotpassword-error-msg').show();return $('#forgotpassword-error-msg').html(res.responseJSON.msg);},function(){},function(){return e.stopPropagation();});});$('#resetPasswordForm').on('submit',function(e){return doForm($(this),'/api/password/reset/',function(){return e.preventDefault();},function(res){$('#resetPasswordModal').modal('hide');$('#forgotpasswordmessage').modal('show');$('#passowrdresetmsg').html(res.responseJSON.msg);return location.replace("http://"+location.host);},function(res){$('#resetpassword-error-msg').show();return $('#resetpassword-error-msg').html(res.responseJSON.msg);},function(){},function(){return e.stopPropagation();},{data_suffix:true});});$('#feedback_form').on('submit',function(e){return doForm($(this),'/feedback/',function(){e.preventDefault();e.stopPropagation();return $("#submit-btn").prop('disabled',true);},function(){$('#feedbackmsg').css('color',"green");$('#feedbackmsg').html('Thanks for your feedback.');return setTimeout((function(){return window.close();}),2000);},function(){$('#feedbackmsg').css('color',"red");return $('#feedbackmsg').html('Something went wrong. Please check all inputs.');},function(){return $("#submit-btn").prop('disabled',false);},function(){},{data_suffix:true});});$('#testimonial_form').on('submit',function(e){return doForm($(this),'/testimonial/',function(){e.preventDefault();return e.stopPropagation();},function(){$('#testimonialmsg').css('color',"green");$('#testimonialmsg').html('Thanks for your testimonial.');return setTimeout((function(){return window.close();}),2000);},function(){$('#testimonialmsg').css('color',"red");return $('#testimonialmsg').html('Something went wrong.');},function(){},function(){},{data_suffix:true});});if($('#client_company').length){$('#client_company').autocomplete({source:'/api/company/list/?type=client',minLength:3,select:function(event,ui){$(this).val(ui.item.value);$('#logo_url').val(ui.item.logo);return $('input[name="website"]').val(ui.item.website);}}).data('ui-autocomplete')._renderItem=function(ul,item){return $('<li class=\'ui-autocomplete-row\'></li>').data('item.autocomplete',item).append(item.label).appendTo(ul);};}
if($('#vendor_company').length){$('#vendor_company').autocomplete({source:'/api/company/list/',minLength:3,select:function(event,ui){$(this).val(ui.item.value);$('input[name="website"]').val(ui.item.website);return $('#logo_url').val(ui.item.logo);}}).data('ui-autocomplete')._renderItem=function(ul,item){return $('<li class=\'ui-autocomplete-row\'></li>').data('item.autocomplete',item).append(item.label).appendTo(ul);};}
$(function(){var params;if(window.location.search.substr(1)){params=new URLSearchParams(window.location.search);if(params.has('login')){return $('#loginModal').modal('show');}else if(params.get('tab')){return $(`.nav-tabs a[href='#${params.get('tab')}']`).tab('show');}else if(params.has('reset')){return doAPI($(this),'/api/password/reset/',function(){},function(res){return $('#resetPasswordModal').modal('show');},function(res){$('#forgotpasswordmessage').modal('show');return $('#passowrdresetmsg').html(res.responseJSON.msg);},function(){},function(){},{type:'GET',data:params.toString()});}else{if(Array.from(params.keys()).some(function(k){return~k.indexOf('signup')|~k.indexOf('refer');})){$('#source option').each(function(){if($(this).val()!=='543'){return $(this).remove();}});}
params.forEach(function(value,key){var elt_name;if(key==='refer'||key==='partner_refer'){elt_name='input[name="'+key+'"]';$(elt_name).click();$(elt_name).on('click.readonly',function(e){return e.preventDefault();});}else if(key==='name'){key='fullname';}
if((key!=='user_type')&&value){return $('input[name="'+key+'"]').attr('value',value).attr('readonly',"readonly");}});if(params.has('signup')||params.has('vendorsignup')){$('.linkedin_btn, .bottom_line_linkedin').remove();$('#user_type').attr('value','vendor');$('input[name="user_type"][value="expert"]').parent().remove();$('.referral').remove();$('input[name="phone_no"]').removeAttr('readonly');}else if(params.has('clientsignup')){$('.linkedin_btn, .bottom_line_linkedin').remove();$('#user_type').attr('value','client');$('.partner-referral').remove();}
if(params.has('vendorsignup')){$('input[name="website"').remove();}
if(params.has('partial_token')){if(!params.has('user_type')){$('#linkedinUserAskingModal').modal('show');}else{$('#user_type').attr('value',params.get('user_type'));showMobileSignupModal();}}else if(params.has('type')||params.has('user_type')){$('#user_type').attr('value',params.get('type')||params.get('user_type'));$("#registrationModal").modal('show');}
if(params.has('referral_id')){$('#source').css('display','none');$('.referral').hide();return $('.partner-referral').hide();}}}});if(/(chrome|firefox)/i.test(navigator.userAgent)){$('body').bind('keypress click',function(e){return $('#grocurv-video').trigger('pause');});}
$('.modal').on('show.bs.modal',function(){return $('.modal').not($(this)).each(function(){return $(this).modal('hide');});});return $('.modal').on('hidden.bs.modal',function(e){if($('.modal').hasClass('in')){return $('body').addClass('modal-open');}});});}).call(this);;